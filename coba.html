<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion & Accessories E-Commerce Micro Site</title>
    <style>
        :root {
            --primary-color: #444; /* Coklat Tua */
            --secondary-color: #D7CCC8; /* Coklat Muda/Beige */
            --accent-color: #BCAAA4; /* Abu-abu Coklat */
            --store-font: 'Brush Script MT', 'Freestyle Script', cursive; /* Simulasi Font Script */
            --default-font: 'Times New Roman', Times, serif; /* Font default */
        }
        body { 
            font-family: 'Times New Roman', serif; 
            margin: 0; 
            padding: 0; 
            background-color: #f4f4f4;
            color: rgb(0, 0, 0);  
        }
        header h1 { 
            font-family: 'Freestyle Script', cursive; 
            font-size: 5em;
            color: rgb(255, 255, 255);  
        }
        header { 
            background-color: #333; 
            color: rgb(0, 0, 0); 
            padding: 10px; 
            text-align: center; 
        }
        nav { 
            background-color: #444; 
            padding: 10px; 
        }
        nav ul { 
            list-style: none; 
            padding: 0; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
        }
        nav ul li { 
            margin: 0 15px; 
        }
        nav ul li a {
            color: rgb(255, 255, 255);
            text-decoration: none;
            font-weight: bold;
            padding: 5px 10px;
            transition: background-color 0.3s;
        }
        nav ul li a:hover {
            background-color: rgba(117, 117, 117, 0.301);
            border-radius: 4px;
        }
        /* Main Content Container */
        .container {
            padding: 20px;
            min-height: 80vh;
        }
        /* Home Page Styling */
        #home-page {
            text-align: center;
        }
        .hero-section {
            background: url('Desain tanpa judul.png') no-repeat center center/cover;
            color: rgb(0, 0, 0);
            padding: 150px 80px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        .hero-section h1 {
            font-size: 3em;
            margin: 0 0 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .cta-button {
            display: inline-block;
            background-color: #333; /* Warna CTA mencolok */
            color: white;
            padding: 10px 25px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .cta-button:hover {
            background-color: #333;
        }
        /* Product Catalog Styling */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .product-card {
            background-color: white;
            border: 1px solid var(--accent-color);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .product-card img {
            max-width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        .product-card button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        /* Product Detail Styling */
        #detail-page .product-detail {
            display: flex;
            gap: 40px;
            max-width: 900px;
            margin: 0 auto;
        }
        #detail-page .product-detail img {
            width: 40%;
            height: auto;
            object-fit: cover;
            border-radius: 8px;
        }
        #detail-page .product-info {
            width: 60%;
        }
        /* Cart/Checkout Styling */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--accent-color);
        }
        .cart-item-details {
            display: flex;
            align-items: center;
        }
        .cart-item-details img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            margin-right: 15px;
            border-radius: 4px;
        }
        .checkout-box {
            background-color: white;
            border: 1px solid var(--accent-color);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        /* Form Styling */
        input[type="text"], input[type="email"], input[type="number"], select {
            width: 100%;
            padding: 10px;
            margin: 8px 0 15px;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button.primary-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button.primary-btn:hover {
            background-color: #4E342E;
        }
        /* Navigation & Footer */
        .sub-nav {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            padding: 10px;
            background-color: var(--secondary-color);
            border-radius: 8px;
        }
        .sub-nav select, .sub-nav input {
            padding: 8px;
            border-radius: 4px;
            border: 1px solid var(--accent-color);
        }
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 30px;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }
        .footer-links a {
            color: rgb(255, 255, 255);
            text-decoration: none;
            transition: text-decoration 0.3s;
        }
        .footer-links a:hover {
            text-decoration: underline;
        }
        /* Utility/Trust Components */
        .trust-badges {
            text-align: center;
            padding: 15px 0;
            border-top: 1px solid var(--accent-color);
            margin-top: 20px;
        }
        .trust-badges span {
            margin: 0 15px;
            font-size: 0.9em;
            color: #666;
        }
        /* Tampilan halaman. Hanya 1 yang ditampilkan pada satu waktu. */
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <h1>Om√°da T√©ssera</h1>
        <nav>
            <ul>
                <li><a href="#" onclick="navigateTo('home')">Home</a></li>
                <li><a href="#" onclick="navigateTo('catalog')">Catalog</a></li>
                <li><a href="#" onclick="navigateTo('cart')">Cart (0)</a></li>
                <li><a href="#" onclick="navigateTo('account')">Account</a></li>
                <li><a href="#" onclick="navigateTo('about')">About</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <section id="home" class="page active home-page">
            <div class="hero-section">
                <h2>Welcome to Our Fashion Store</h2>
                <p>Discover the latest trends in fashion and accessories.</p>
                <a href="#" class="cta-button" onclick="navigateTo('catalog')">Catalog Here!!</a>           
            </div>
            <h2 style="text-align: center;">Why choose us? (Trust factor)</h2>
            <div class="trust-badges" style="border: none;">
                <span>‚úÖ 100% Quality Guarantee</span>
                <span>üöö Fast Delivery Throughout Indonesia</span>
                <span>üîí Secure & Encrypted Payment (SSL Simulation)</span>
            </div>
            <div class="product-grid">
                <div class="product-card">
                    <img src="c:\Users\Lenovo\Documents\Ecommers kelompok 4\Men Two Tone Shirt Without Tee.jpg" alt="Men Two Tone Shirt Without Tee">
                    <h3>Men Two Tone Shirt Without Tee</h3>
                    <p>Rp 150.000</p>
                    <button onclick="viewDetail('Men Two Tone Shirt Without Tee', 'Fashion Pria', 'Rp 150.000')">Lihat Detail</button>
                </div>
                <div class="product-card">
                    <img src="Dorothee Schumacher Fashion Collections For Women _ Moda Operandi.jpeg" alt="Asymmetrical Peplum Striped Shirt">
                    <h3>Asymmetrical Peplum Striped Shirt</h3>
                    <p>Rp 220.000</p>
                    <button onclick="viewDetail('Asymmetrical Peplum Striped Shirt', 'Fashion Wanita', 'Rp 220.000')">Lihat Detail</button>
                </div>
                <div class="product-card">
                    <img src="c:\Users\Lenovo\Documents\Ecommers kelompok 4\Accessories\topi\1pc Unisex Black Thickened _New York NY_ Embroidered Snapback Hat, Outdoor Sun Protection Casual Baseball Cap.jpg" alt="Outdoor Sun Protection Casual Baseball Cap">
                    <h3>Outdoor Sun Protection Casual Baseball Cap</h3>
                    <p>Rp 95.000</p>
                    <button onclick="viewDetail('Outdoor Sun Protection Casual Baseball Cap', 'Accessories', 'Rp 95.000')">Lihat Detail</button>
                </div>
            </div>
        </section>
        <section id="catalog" class="page">
            <h2>üõçÔ∏è Katalog Produk</h2>
            <div class="sub-nav">
                <input type="text" id="search-input" placeholder="Cari produk (Kaos, Kemeja, Mukena...)" onkeyup="filterProducts()">
                <select id="category-filter" onchange="filterProducts()">
                    <option value="all">Semua Kategori</option>
                    <optgroup label="Fashion Pria">
                        <option value="male_atasan">Atasan Pria</option>
                        <option value="male_bawahan">Bawahan Pria</option>
                        <option value="male_footwear">Alas Kaki Pria</option>
                    </optgroup>
                    <optgroup label="Fashion Wanita">
                        <option value="female_atasan">Atasan Wanita</option>
                        <option value="female_bawahan">Bawahan Wanita</option>
                        <option value="female_footwear">Alas Kaki Wanita</option>
                    </optgroup>
                    <option value="religious">Pakaian Religi</option>
                    <option value="accessories">Aksesoris</option>
                </select>
            </div>
            <div class="product-grid" id="product-list">
                <div class="product-card" data-id="MAKA01" data-category="male_atasan" data-name="Men Two Tone Shirt Without Tee">
                    <img src="c:\Users\Lenovo\Documents\Ecommers kelompok 4\Men Two Tone Shirt Without Tee.jpg" alt="Men Two Tone Shirt Without Tee">
                    <h3>Men Two Tone Shirt Without Tee</h3>
                    <p>Rp 150.000</p>
                    <button onclick="addToCart({id: 'MAKA01', name: 'Men Two Tone Shirt Without Tee', price: 150000, img: 'Men Two Tone Shirt Without Tee.jpg'})">Tambah ke Cart</button>
                </div>
                <div class="product-card" data-id="FAKA01" data-category="female_atasan" data-name="Asymmetrical Peplum Striped Shirt">
                    <img src="c:\Users\Lenovo\Documents\Ecommers kelompok 4\Female\atasan\kemeja\Asymmetrical Peplum Striped Shirt.jpeg" alt="c:\Users\Lenovo\Documents\Ecommers kelompok 4\Male\Atasan\kemeja\Men Two Tone Shirt Without Tee.jpg">
                    <h3>Asymmetrical Peplum Striped Shirt</h3>
                    <p>Rp 220.000</p>
                    <button onclick="addToCart({id: 'FAKA01', name: 'Asymmetrical Peplum Striped Shirt', price: 22000, img: 'c:\Users\Lenovo\Documents\Ecommers kelompok 4\Female\atasan\kemeja\Asymmetrical Peplum Striped Shirt.jpeg'})">Tambah ke Cart</button>
                </div>
                <div class="product-card" data-id="P003" data-category="male_bawahan" data-name="Outdoor Sun Protection Casual Baseball Cap">
                    <img src="https://via.placeholder.com/250x200?text=Celana+Chino" alt="Outdoor Sun Protection Casual Baseball Cap">
                    <h3>Outdoor Sun Protection Casual Baseball Cap</h3>
                    <p>Rp 95.000</p>
                    <button onclick="addToCart({id: 'P003', name: 'Outdoor Sun Protection Casual Baseball Cap', price: 95000, img: 'https://via.placeholder.com/60x60?text=CCS'})">Tambah ke Cart</button>
                </div>
                <div class="product-card" data-id="P004" data-category="female_bawahan" data-name="Rok Plisket Panjang">
                    <img src="https://via.placeholder.com/250x200?text=Rok+Plisket" alt="Rok Plisket">
                    <h3>Rok Plisket Panjang</h3>
                    <p>Rp 150.000</p>
                    <button onclick="addToCart({id: 'P004', name: 'Rok Plisket Panjang', price: 150000, img: 'https://via.placeholder.com/60x60?text=RPP'})">Tambah ke Cart</button>
                </div>
                <div class="product-card" data-id="P005" data-category="religious" data-name="Mukena Katun Premium">
                    <img src="https://via.placeholder.com/250x200?text=Mukena" alt="Mukena Katun Premium">
                    <h3>Mukena Katun Premium</h3>
                    <p>Rp 350.000</p>
                    <button onclick="addToCart({id: 'P005', name: 'Mukena Katun Premium', price: 350000, img: 'https://via.placeholder.com/60x60?text=MKP'})">Tambah ke Cart</button>
                </div>
                 <div class="product-card" data-id="P006" data-category="accessories" data-name="Topi Fedora Kulit">
                    <img src="https://via.placeholder.com/250x200?text=Topi+Fedora" alt="Topi Fedora Kulit">
                    <h3>Topi Fedora Kulit</h3>
                    <p>Rp 120.000</p>
                    <button onclick="addToCart({id: 'P006', name: 'Topi Fedora Kulit', price: 120000, img: 'https://via.placeholder.com/60x60?text=TFK'})">Tambah ke Cart</button>
                </div>
            </div>
        </section>
        <section id="detail" class="page">
            <button onclick="navigateTo('catalog')">‚Üê Kembali ke Katalog</button>
            <h2 id="detail-title"></h2>
            <div class="product-detail">
                <img id="detail-image" src="" alt="Detail Produk">
                <div class="product-info">
                    <p>Kategori: <strong id="detail-category"></strong></p>
                    <h3 style="color: #FF5722;" id="detail-price"></h3>
                    <p id="detail-description"></p>
                    <h4>Opsi Tambahan</h4>
                    <label for="size">Ukuran:</label>
                    <select id="size">
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                        <option value="XL">XL</option>
                    </select>
                    <label for="qty">Jumlah:</label>
                    <input type="number" id="qty" value="1" min="1" style="width: 80px;">
                    <br><br>
                    <button class="cta-button" onclick="addToCartFromDetail()">Tambah ke Cart</button>
                </div>
            </div>
        </section>
        <section id="cart" class="page">
            <h2>üõí Keranjang Belanja Anda</h2>
            <div id="cart-items-list">
                <p>Keranjang Anda kosong.</p>
            </div>         
            <h3 style="text-align: right;">Total Belanja: <span id="cart-total">Rp 0</span></h3>
            <button class="cta-button" style="float: right;" onclick="navigateTo('checkout')">Lanjutkan ke Checkout ‚Üí</button>
            <div style="clear: both;"></div>
        </section>
        <section id="checkout" class="page">
            <h2>üì¶ Proses Checkout</h2>
            <div style="display: flex; gap: 30px;">
                <div style="flex: 2;">
                    <h3>Informasi Pengiriman</h3>
                    <form id="checkout-form">
                        <label for="nama">Nama Lengkap</label>
                        <input type="text" id="nama" required>
                        <label for="email">Email</label>
                        <input type="email" id="email" required>
                        <label for="alamat">Alamat Lengkap</label>
                        <input type="text" id="alamat" required>
                        <label for="kota">Kota</label>
                        <input type="text" id="kota" required>
                        <label for="kurir">Pilih Kurir</label>
                        <select id="kurir" required>
                            <option value="reguler">Reguler (Rp 20.000)</option>
                            <option value="express">Express (Rp 45.000)</option>
                        </select>
                    </form>
                </div>
                <div style="flex: 1;" class="checkout-box">
                    <h3>Ringkasan Pesanan</h3>
                    <div id="checkout-summary"></div>
                    <p style="border-top: 1px dashed #ccc; padding-top: 10px;">Subtotal: <span id="summary-subtotal">Rp 0</span></p>
                    <p>Ongkir: <span id="summary-shipping">Rp 20.000</span></p>
                    <h4 style="color: #D32F2F;">Grand Total: <span id="summary-grandtotal">Rp 20.000</span></h4>       
                    <h3 style="margin-top: 20px;">Sistem Pembayaran (Simulasi)</h3>
                    <p>Pilih Metode Pembayaran:</p>
                    <select>
                        <option>Transfer Bank (BCA)</option>
                        <option>Kartu Kredit/Debit (Simulasi)</option>
                        <option>E-Wallet (OVO/Gopay)</option>
                    </select>      
                    <button class="cta-button" style="width: 100%; margin-top: 15px;" onclick="processOrder()">BAYAR SEKARANG</button>
                </div>
            </div>
        </section>
        <!-- Account Management Section -->
        <section id="account" class="page">
            <h2>Account Management</h2>
            <form id="login-form" class="hidden">
                <input type="email" placeholder="Email" required="">
                <input type="password" placeholder="Password" required="">
                <button type="submit">Login</button>
            </form>
            <form id="register-form">
                <input type="text" placeholder="Name" required="">
                <input type="email" placeholder="Email" required="">
                <input type="password" placeholder="Password" required="">
                <button type="submit">Register</button>
            </form>
            <div id="account-info" class="hidden">
                <p>Welcome, User!</p>
                <button onclick="logout()">Logout</button>
            </div>
        </section>
        <section id="about" class="page">
            <h2>‚ÑπÔ∏è Tentang Om√°da T√©ssera</h2>
            <div class="checkout-box">
                <p>Didirikan pada tahun 2025, Om√°da T√©ssera berkomitmen menyediakan fashion dan aksesori berkualitas tinggi dengan sentuhan elegan.</p>
                <h3>Simulasi Sistem Manajemen Konten (CMS)</h3>
                <p>Konten ini diibaratkan dikelola dari dashboard CMS, memungkinkan pembaruan mudah tanpa menyentuh kode HTML. Dalam implementasi nyata, bagian ini akan ditarik dari database.</p>        
                <h3>Simulasi Analitik & Pelaporan</h3>
                <p>Secara live, kami melacak kinerja toko:</p>
                <ul>
                    <li>Penjualan Bulan Ini: Rp 150.000.000</li>
                    <li>Total Pengunjung: 50.000</li>
                    <li>Produk Terlaris: Kemeja Batik (Simulasi Laporan Persediaan)</li>
                </ul>
                <p style="font-style: italic; color: red;">Fitur analitik real-time memerlukan tools eksternal (Google Analytics, dsb.) dan backend server.</p>
            </div>
        </section>    
    </div>
    <footer>
        <div class="footer-links">
            <a href="#" onclick="alert('Simulasi Kebijakan Privasi')">Kebijakan Privasi</a>
            <a href="#" onclick="alert('Simulasi Syarat & Ketentuan')">Syarat & Ketentuan</a>
            <a href="#" onclick="alert('Simulasi Kontak')">Hubungi Kami</a>
        </div>
        <p>&copy; 2025 Om√°da T√©ssera. Semua Hak Dilindungi. Keamanan SSL Terjamin (Simulasi)</p>
    </footer>
    <script>
        // Data Produk Lengkap
        const productData = [
            { id: 'MAKA01', name: 'Men Two Tone Shirt Without Tee', category: 'male_atasan', price: 150000, img: 'c:\Users\Lenovo\Documents\Ecommers kelompok 4\Men Two Tone Shirt Without Tee.jpg', desc: 'Mens short-sleeve shirt in two contrasting vertical color blocks (beige/tan) with a classic collar.' },
            { id: 'MBCJ01', name: 'Rok Plisket Panjang', category: 'male_bawahan', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            { id: 'MKSF01', name: 'Rok Plisket Panjang', category: 'male_footwear', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            { id: 'FAKA01', name: 'Asymmetrical Peplum Striped Shirt', category: 'female_atasan', price: 220000, img: 'https://github.com/aininuzulul21-prog/Om-daT-ssera/blob/main/Dorothee%20Schumacher%20Fashion%20Collections%20For%20Women%20_%20Moda%20Operandi.jpeg', desc: 'White striped button-down with a flared, high-low, asymmetrical peplum hem.' },
            { id: 'FBRK01', name: 'Rok Plisket Panjang', category: 'female_bawahan', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            { id: 'FKSF01', name: 'Rok Plisket Panjang', category: 'female_footwear', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            { id: 'PRMS01', name: 'Asymmetrical Peplum Striped Shirt', category: 'religious', price: 220000, img: 'Asymmetrical Peplum Striped Shirt.jpeg', desc: 'White striped button-down with a flared, high-low, asymmetrical peplum hem.' },
            { id: 'PRFM01', name: 'Rok Plisket Panjang', category: 'religious', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            { id: 'AT0001', name: 'Rok Plisket Panjang', category: 'accesories', price: 150000, img: 'https://via.placeholder.com/250x200?text=Rok+Plisket', desc: 'Rok lipit (plisket) bahan moscrepe, panjang semata kaki, fleksibel untuk formal/kasual.' },
            
        ];
        // Keranjang Belanja Global (Data in-memory, hilang setelah refresh)
        let cartItems = [];
        // Inisialisasi: Menampilkan semua produk saat halaman dimuat
        document.addEventListener('DOMContentLoaded', () => {
            renderProductCatalog(productData);
            updateCartIcon();
        });
        // 1. FUNGSI NAVIGASI
        function navigateTo(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active'); 
            // Khusus Cart/Checkout: Render ulang konten
            if (pageId === 'cart') {
                renderCart();
            } else if (pageId === 'checkout') {
                renderCheckoutSummary();
            }
            window.scrollTo(0, 0); // Gulir ke atas
        }
        // 2. FUNGSI KATALOG & FILTER
        function renderProductCatalog(products) {
            const list = document.getElementById('product-list');
            list.innerHTML = '';
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.setAttribute('data-id', product.id);
                card.setAttribute('data-category', product.category);
                card.setAttribute('data-name', product.name);       
                card.innerHTML = `
                    <img src="${product.img}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>Rp ${product.price.toLocaleString('id-ID')}</p>
                    <button onclick="viewDetail('${product.name}', '${product.category}', 'Rp ${product.price.toLocaleString('id-ID')}', '${product.desc}', '${product.id}', '${product.img}')">Lihat Detail</button>
                    <button style="background-color: #FF5722; margin-left: 5px;" onclick="addToCart({id: '${product.id}', name: '${product.name}', price: ${product.price}, img: '${product.img}'})">Tambah ke Cart</button>
                `;
                list.appendChild(card);
            });
        }
        function filterProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const categoryFilter = document.getElementById('category-filter').value;   
            const filteredProducts = productData.filter(product => {
                const nameMatch = product.name.toLowerCase().includes(searchTerm);
                const categoryMatch = categoryFilter === 'all' || product.category === categoryFilter;
                // Penanganan Grup Kategori:
                const isMaleAtasan = categoryFilter === 'male_atasan' && ['kemeja', 'kaos', 'batik', 'switter', 'jacket', 'jas'].some(type => product.name.toLowerCase().includes(type));
                const isMaleBawahan = categoryFilter === 'male_bawahan' && ['celana bahan', 'celana lepis', 'celana chino', 'celana pendek'].some(type => product.name.toLowerCase().includes(type));
                const isFemaleAtasan = categoryFilter === 'female_atasan' && ['kemeja', 'kaos', 'batik', 'switter', 'jacket', 'dress'].some(type => product.name.toLowerCase().includes(type));
                const isFemaleBawahan = categoryFilter === 'female_bawahan' && ['celana bahan', 'celana lepis', 'celana chino', 'celana pendek', 'rok'].some(type => product.name.toLowerCase().includes(type));
                const isReligious = categoryFilter === 'religious' && ['mukena', 'sarung', 'sajadah'].some(type => product.name.toLowerCase().includes(type));
                const isAccessories = categoryFilter === 'accessories' && ['kalung', 'gelang', 'cincin', 'topi', 'tas', 'kacamata', 'gesper'].some(type => product.name.toLowerCase().includes(type));
                const groupMatch = 
                    categoryFilter === 'all' || 
                    product.category === categoryFilter ||
                    isMaleAtasan || isMaleBawahan || 
                    isFemaleAtasan || isFemaleBawahan || 
                    isReligious || isAccessories;
                return nameMatch && groupMatch;
            });
            renderProductCatalog(filteredProducts);
        }
        // 3. FUNGSI DETAIL PRODUK
        function viewDetail(name, category, price, description, id, img) {
            document.getElementById('detail-title').innerText = name;
            document.getElementById('detail-category').innerText = category.replace('_', ' ').toUpperCase();
            document.getElementById('detail-price').innerText = price;
            document.getElementById('detail-description').innerText = description;
            document.getElementById('detail-image').src = img;
            document.getElementById('detail-image').alt = name;
            // Simpan ID produk yang sedang dilihat untuk fungsi AddToCartFromDetail
            document.getElementById('detail').setAttribute('data-current-product-id', id);
            navigateTo('detail');
        }
        // 4. FUNGSI KERANJANG BELANJA (Add, Remove, Edit)
        function updateCartIcon() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            document.querySelector('nav ul li a[onclick="navigateTo(\'cart\')"]').innerText = `Cart (${totalItems})`;
        }
        function addToCart(product, size = 'M', quantity = 1) {
            const existingItem = cartItems.find(item => item.id === product.id && item.size === size);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cartItems.push({
                    ...product,
                    size: size,
                    quantity: quantity
                });
            }
            updateCartIcon();
            alert(`${product.name} (Ukuran: ${size}, Qty: ${quantity}) berhasil ditambahkan ke keranjang!`);
            renderCart(); // Render ulang jika berada di halaman cart
        }
        function addToCartFromDetail() {
            const productId = document.getElementById('detail').getAttribute('data-current-product-id');
            const size = document.getElementById('size').value;
            const qty = parseInt(document.getElementById('qty').value);
            const product = productData.find(p => p.id === productId);
            if (product && qty > 0) {
                addToCart(product, size, qty);
            } else {
                alert('Pilih jumlah yang valid!');
            }
        }
        function removeItem(index) {
            const productName = cartItems[index].name;
            cartItems.splice(index, 1);
            updateCartIcon();
            alert(`${productName} berhasil dihapus dari keranjang.`);
            renderCart();
        }
        function editQuantity(index, newQty) {
            const qty = parseInt(newQty);
            if (qty > 0) {
                cartItems[index].quantity = qty;
                renderCart();
            } else if (qty === 0) {
                removeItem(index);
            }
        }
        function renderCart() {
            const list = document.getElementById('cart-items-list');
            list.innerHTML = '';
            let total = 0;
            if (cartItems.length === 0) {
                list.innerHTML = '<p>Keranjang Anda kosong.</p>';
            } else {
                cartItems.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'cart-item';
                    itemDiv.innerHTML = `
                        <div class="cart-item-details">
                            <img src="${item.img}" alt="${item.name}">
                            <div>
                                <strong>${item.name}</strong> (${item.size})
                                <p style="margin: 0;">Harga: Rp ${item.price.toLocaleString('id-ID')}</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <label>Qty:</label>
                            <input type="number" value="${item.quantity}" min="1" style="width: 60px; padding: 5px; margin: 0;" onchange="editQuantity(${index}, this.value)">
                            <p>Subtotal: <strong>Rp ${itemTotal.toLocaleString('id-ID')}</strong></p>
                            <button class="primary-btn" style="background-color: #D32F2F;" onclick="removeItem(${index})">Hapus</button>
                        </div>
                    `;
                    list.appendChild(itemDiv);
                });
            }
            document.getElementById('cart-total').innerText = `Rp ${total.toLocaleString('id-ID')}`;
            updateCartIcon();
        }
        // 5. FUNGSI CHECKOUT
        function renderCheckoutSummary() {
            const summary = document.getElementById('checkout-summary');
            let subtotal = 0;
            summary.innerHTML = cartItems.map(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                return `<p>${item.name} (${item.quantity}x) - Rp ${itemTotal.toLocaleString('id-ID')}</p>`;
            }).join('');
            if (cartItems.length === 0) {
                summary.innerHTML = `<p style="color: red;">Keranjang kosong, tidak bisa checkout.</p>`;
                document.querySelector('#checkout .cta-button').disabled = true;
            } else {
                document.querySelector('#checkout .cta-button').disabled = false;
            }
            // Simulasi Ongkir
            const shippingCost = 20000; 
            const grandTotal = subtotal + shippingCost;
            document.getElementById('summary-subtotal').innerText = `Rp ${subtotal.toLocaleString('id-ID')}`;
            document.getElementById('summary-shipping').innerText = `Rp ${shippingCost.toLocaleString('id-ID')}`;
            document.getElementById('summary-grandtotal').innerText = `Rp ${grandTotal.toLocaleString('id-ID')}`;
        }
        function processOrder() {
            if (cartItems.length === 0) {
                alert('Tidak ada item di keranjang!');
                return;
            }
            const form = document.getElementById('checkout-form');
            if (form.checkValidity()) {
                const grandTotal = document.getElementById('summary-grandtotal').innerText;
                alert(`Pesanan telah diproses!\nTotal yang harus dibayar: ${grandTotal}\n\n[SIMULASI] Data pesanan ini seharusnya dikirim ke backend server untuk diproses dan disimpan di database (Manajemen Pesanan, Persediaan, Akun, Pembayaran).`);
                // Kosongkan keranjang setelah simulasi
                cartItems = [];
                updateCartIcon();
                navigateTo('home');
            } else {
                alert('Mohon lengkapi semua data pengiriman.');
            }
        }
    </script>
</body>
</html>